<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Perfil del Usuario</title>
  <link rel="stylesheet" href="../CSS/perfil.css">
</head>
<body>
  <!-- Encabezado -->
  <header class="main-header">
    <h1>Mi Perfil</h1>
    <nav>
      <a href="../inicio.html">Inicio</a>
      <a href="tienda.html">Tienda</a>
      <a href="carrito.html">Carrito</a>
      <a href="logout.html">Cerrar Sesión</a>
    </nav>
  </header>

  <!-- Contenido Principal -->
  <main class="profile-container">
    <!-- Información del Perfil -->
    <section class="profile-info">
      <h2>Información Personal</h2>
      <form id="profile-form">
        <div class="form-group">
          <label for="name">Nombre Completo</label>
          <input type="text" id="name" name="name" placeholder="Tu nombre completo" required>
        </div>
        <div class="form-group">
          <label for="email">Correo Electrónico</label>
          <input type="email" id="email" name="email" placeholder="Tu correo electrónico" required>
        </div>
        <div class="form-group">
          <label for="address">Dirección Predeterminada</label>
          <input type="text" id="address" name="address" placeholder="Tu dirección" required>
        </div>
        <div class="form-group">
          <button type="submit">Guardar Cambios</button>
        </div>
      </form>
    </section>

    <!-- Historial de Pedidos -->
    <section class="order-history">
      <h2>Historial de Pedidos</h2>
      <div id="orders-container">
        <!-- Los pedidos se cargan dinámicamente aquí -->
      </div>
    </section>

    <!-- Cambiar Contraseña -->
    <section class="change-password">
      <h2>Cambiar Contraseña</h2>
      <form id="password-form">
        <div class="form-group">
          <label for="current-password">Contraseña Actual</label>
          <input type="password" id="current-password" name="current-password" placeholder="Contraseña actual" required>
        </div>
        <div class="form-group">
          <label for="new-password">Nueva Contraseña</label>
          <input type="password" id="new-password" name="new-password" placeholder="Nueva contraseña" required>
        </div>
        <div class="form-group">
          <label for="confirm-password">Confirmar Contraseña</label>
          <input type="password" id="confirm-password" name="confirm-password" placeholder="Confirmar contraseña" required>
        </div>
        <div class="form-group">
          <button type="submit">Actualizar Contraseña</button>
        </div>
      </form>
    </section>
  </main>

  <footer>
    <p>&copy; 2024 La Telaraña. Todos los derechos reservados.</p>
  </footer>

  <script>
    // Simular datos del historial de pedidos
    const orders = [
      { id: '12345', date: '2024-11-18', total: 49.99 },
      { id: '67890', date: '2024-10-25', total: 89.99 },
    ];

    // Cargar historial de pedidos
    document.addEventListener('DOMContentLoaded', () => {
      const ordersContainer = document.getElementById('orders-container');
      if (orders.length === 0) {
        ordersContainer.innerHTML = '<p>No tienes pedidos aún.</p>';
      } else {
        ordersContainer.innerHTML = '<ul>' + orders.map(order => `
          <li>Pedido #${order.id} - ${order.date} - Total: ${order.total.toFixed(2)} €</li>
        `).join('') + '</ul>';
      }
    });

    // Manejar el formulario de información personal
    const profileForm = document.getElementById('profile-form');
    profileForm.addEventListener('submit', (e) => {
      e.preventDefault();
      alert('Información personal actualizada.');
    });

    // Manejar el formulario de cambio de contraseña
    const passwordForm = document.getElementById('password-form');
    passwordForm.addEventListener('submit', (e) => {
      e.preventDefault();
      const newPassword = document.getElementById('new-password').value;
      const confirmPassword = document.getElementById('confirm-password').value;

      if (newPassword !== confirmPassword) {
        alert('Las contraseñas no coinciden.');
      } else {
        alert('Contraseña actualizada con éxito.');
      }
    });
  </script>
</body>
</html>
